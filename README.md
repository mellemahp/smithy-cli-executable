# smithy-cli-executable
Simple repo to generate releases of a smithy-cli executable for use in bazel build rules in other projects. It basically just uses github actions and bazel to generate a convient zip file with all the jars inside. 

For more info about the open-source smithy project go check out the main AWS Labs repo [here](https://github.com/awslabs/smithy) or [the docs](https://awslabs.github.io/smithy/). 

This smithy executable also includes the following as runtime dependencies for convenience: 
- smithy-openapi
- smithy-aws-apigateway-openapi
- smithy-aws-traits


### Using in bazel build rules
To use the smithy cli jar generated by this repository in bazel build rules add the following to your `WORKSPACE` file.

```
SMITHY_CLI_EXECUTABLE_TAG = "<TAG_NAME>"
SMITHY_CLI_SHA = "<SHA>"

http_jar(
    name = "smithy-cli",
    sha256 = SMITHY_CLI_SHA,
    url = "https://github.com/mellemahp/smithy-cli-executable/releases/download/%s/smithy_cli.jar" % SMITHY_CLI_EXECUTABLE_TAG,
)
```

You can then access the jar with `@smithy-cli//jar` 

### Running 
To run the cli, just run `java -jar smithy_cli.jar <CMDS>`